<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>SanYuan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="SanYuan">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="SanYuan">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SanYuan">
  
    <link rel="alternate" href="/atom.xml" title="SanYuan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">SanYuan</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-学编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/学编程/" class="article-date">
  <time datetime="2016-12-13T05:48:54.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/学编程/">学编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第一步：定目标 好好想想，你想学什么编程语言？具体想用编程语言来做什么？千万不要“现在html5很红，学html5吧”，“iOS编程很赚钱，学OC吧”。 你可以这样做，逛一些编程视频教学的网站，看有什么“实例”是你觉得有趣的，评价也说不错的，定这个为目标吧。这里一天时间够了。</p>
<p>第二步：你需要一本书，搞定基础问题 老老实实买一本评价好的编程书，随便一本就好，不要网上下载电子书，电子书不清晰，没法做笔记，难集中精神。 你怎么看一本编程书呢？一章一章地看，认真看？错了！大部分自学的人死在这里，一般编程书，会涵盖这门语言的所有知识点，包括很多不怎么用的难点，所以一章一章地看，只会让自己越看越不懂，慢慢没有耐心了，就放弃了。<br>我们应该这样用一本书：<br>1、看书搭建开发环境，遇到问题也可以上网找怎样搭建，毕竟软件更新肯定比书更新要快。<br>2、看看大概的程序长什么样子的，写个最简单的程序玩玩，一般都是一个叫做“hello world”的东西。<br>3、知道程序的一些基本类型（元素），例如int/char。<br>4、学会一些语法结构，例如条件判断(if/else)，循环(for/while)。<br>5、看看有什么常用类或者方法。 足够了，后面的不用看了，打个比方就是你不需要学会所有英语单词才开始学英语句子和作文，这个步骤一天也足够了。</p>
<p>第三步：看视频 这个时候需要关闭开发工具，准备纸和笔，做笔记，一边看视频，一边记笔记，让自己知道怎样开发目标程序。这个时候偶尔需要快进，偶尔需要暂停，偶尔需要回看。我自己现在学新语言，是在某网站用1.7倍播放速度看。 仔细看看老师是怎样一步一步写程序出来的，要连续看，千万不要一边看一边用开发工具跟着敲代码，那样是没用的，会打断思路。 网上的实例教程一般都是小程序，不会太长，大概几个小时时间，所以这里一天时间也够了。</p>
<p>第四步：敲代码 明白怎样开发一个程序了，就一定要敲代码了，这个时候才对着视频一步一步跟着敲，也要对着笔记一步一步走，需要耐心，因为这个时间会持续可能三天，视频也可能看了后面又返回前面看，这些都正常。 Done，完成这步，这门语言也入门了，再花点时间总结自己所学，再看看这门语言还有什么典型的案例，给自己之后学习定个方向，又花一天时间。 我学过非常多种编程语言，所有编程语言入门都是一样的，入门难，入门后就有方向了，就可以花更多的时间去钻研进步。与其花钱去培训，不如学好基础后，告诉企业免费试用一个月，更快找到自己的IT路。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/学编程/" data-id="ciwohxhog0025wrcyyi48fi9z" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java环境变量" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/Java环境变量/" class="article-date">
  <time datetime="2016-12-13T05:43:51.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/Java环境变量/">Java环境变量</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Windows环境变量<br>JAVA_HOME=D:\Dell\Java\jdk1.7.0_17<br>PATH=D:\Java\jdk1.7.0_17\bin</p>
<p>Linux环境变量<br>vim /etc/profile<br>export JAVA_HOME=/usr/lib/java/jdk1.7.0_79/<br>export JRE_HOME=${JAVA_HOME}/jre<br>export CLASS_PATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib<br>export PATH=$PATH:${JAVA_HOME}/bin</p>
<p>export JAVA_HOME=/home/jinyan/Java/jdk1.8.0_66/<br>export JRE_HOME=${JAVA_HOME}/jre<br>export PATH=$PATH:${JAVA_HOME}/bin</p>
<p>export JAVA_HOME=/usr/java/jdk1.6.0_31/<br>export JRE_HOME=${JAVA_HOME}/jre<br>export PATH=$PATH:${JAVA_HOME}/bin</p>
<p>export HADOOP_INSTALL=/usr/opt/hadoop<br>export PATH=$PATH:${HADOOP_INSTALL}/bin:${HADOOP_INSTALL}/sbin<br>export HADOOP_MAPRED_HOME=${HADOOP_INSTALL}<br>export HADOOP_COMMON_HOME=${HADOOP_INSTALL}<br>export HADOOP_HDFS_HOME=${HADOOP_INSTALL}<br>export YARN_HOME=${HADOOP_INSTALLL}<br>export HADOOP_COMMON_LIB_NATIVE_DIR=${HADOOP_INSTALL}/lib/natvie<br>export HADOOP_OPTS=”-Djava.library.path=${HADOOP_INSTALL}/lib:${HADOOP_INSTALL}/lib/native”</p>
<p>export HADOOP_COMMON_LIB_NATIVE_DIR=/usr/opt/hadoop/lib/natvie<br>export HADOOP_OPTS=”-Djava.library.path=/usr/opt/hadoop/lib:/usr/opt/hadoop/lib/native”</p>
<p>source /etc/profile</p>
<p>export PATH=${JAVA_HOME}/bin:/usr/local/hadoop/hadoop-2.2.0/bin:$PATH</p>
<p>source ~/.bashrc</p>
<p>javadoc -d apidoc -windowtitle 测试 -doctitle 学习 javadoc 工 具的测试API文档 -header 自定义类 Test<em>.java<br>javadoc -d apidoc -windowtitle 测试 -doctitle 学习 javadoc 工 具的测试API文档 -header 自定义类 -version -author Test</em>.java</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/Java环境变量/" data-id="ciwohxhm7000dwrcycccfi6y0" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-史上最全的开发和设计资源大全" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/史上最全的开发和设计资源大全/" class="article-date">
  <time datetime="2016-12-13T05:31:13.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/史上最全的开发和设计资源大全/">史上最全的开发和设计资源大全</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>GitHub 上的 Awesome 系列（资源大全系列），是一个汇总了优秀工具资源的大集合，并由 GitHub 社区用户持续维护和更新。初始的版本都是英文，伯乐在线组织整理了热门资源大全的中文版。目前，中文版的资源列表在 GitHub 总计已经有超过 10,000 star 和 数千 fork 。以下是各个开发和设计资源的详细介绍。</p>
<p>Java 资源大全</p>
<p>Java资源大全中文版，包括：构建工具、字节码操作、集群管理、代码分析、编译器生成工具、外部配置工具、持续集成、数据结构、数据库、时间日期工具库、依赖注入、开发流程增强工具、分布式应用、分布式数据库、文档处理工具、函数式编程、游戏开发、GUI、高性能计算、IDE、图像处理、JSON、JVM与JDK、日志、机器学习、消息传递、应用监控工具、自然语言处理等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-java-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-java-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=32" target="_blank" rel="external">http://hao.jobbole.com/?catid=32</a></p>
<p>Python 资源大全</p>
<p>Python 资源大全中文版，包括：环境管理、包管理、构建工具、分发、Web框架、网络爬虫、模板引擎、数据库、数据可视化、图像处理、文本处理、自然语言处理、配置、命令行工具、地理位置、CMS、缓存、数据验证、反垃圾、GUI、游戏开发等。</p>
<p>GitHub 主页： <a href="https://github.com/jobbole/awesome-python-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-python-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=144" target="_blank" rel="external">http://hao.jobbole.com/?catid=144</a></p>
<p>JavaScript 资源大全</p>
<p>JavaScript 资源大全中文版，内容包括：包管理器、打包工具、加载器、测试框架、运行器、QA、MVC框架和库、模板引擎、数据可视化、编辑器、函数式编程、响应式编程、数据结构、存储、国际化和本地化、日志、正则表达式、视觉检测、代码高亮、加载状态、验证、幻灯片、滑块控件、表单组件、框架、地图、视频/音频、动画、图片处理等。</p>
<p>GitHub 主页： <a href="https://github.com/jobbole/awesome-javascript-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-javascript-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=67" target="_blank" rel="external">http://hao.jobbole.com/?catid=67</a></p>
<p>iOS 资源大全</p>
<p>iOS 资源大全中文版，内容包括：依赖/包管理、框架、图表、测试、音频/视频、SDK、数据库、硬件、文件、日志、地图、网络通知、代码质量、支付、安全、编程规范、UI、硬件等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-ios-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-ios-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=31" target="_blank" rel="external">http://hao.jobbole.com/?catid=31</a></p>
<p>C 语言资源大全</p>
<p>C 资源大全中文版，包括了：构建系统、编译器、数据库、加密、初中高的教程/指南、书籍、库、文档生成、编辑器、环境、框架、游戏编程、引擎、通用编程、图形、GUI、JSON、多媒体、网络编程、Web 框架、数值计算、并行编程、正则表达式、序列化、标准库、字符串处理、测试工具、文本编辑器扩展等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-c-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-c-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=1877" target="_blank" rel="external">http://hao.jobbole.com/?catid=1877</a></p>
<p>MySQL 资源大全</p>
<p>MySQL 资源大全中文版，分析工具、备份、性能测试、配置、部署、GUI、聊天应用、连接器、HA、代理、服务器、分片、工具包 等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-mysql-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-mysql-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=7" target="_blank" rel="external">http://hao.jobbole.com/?catid=7</a></p>
<p>机器学习资源大全</p>
<p>机器学习资源大全中文版，包括众多编程语言（C++、Closure、Go、Java、JavaScript、Julia、Lua、MATLAB、DotNet、Python、Ruby、R、Scala ）在 ML 领域的框架、库以及软件。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-machine-learning-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-machine-learning-cn</a></p>
<p>CSS 资源大全</p>
<p>CSS 资源大全中文版，内容包括：CSS预处理器、框架、CSS结构、大型网站的 CSS 开发、代码风格指南、命名习惯等</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-css-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-css-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=24" target="_blank" rel="external">http://hao.jobbole.com/?catid=24</a></p>
<p>Android 资源大全</p>
<p>Android 资源大全中文版，包括：图表、游戏开发、GUI、JSON、崩溃检测、网络请求、通知、数据库、测试、行为监测、集合框架、调试工具等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-android-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-android-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=252" target="_blank" rel="external">http://hao.jobbole.com/?catid=252</a></p>
<p>系统管理员资源大全</p>
<p>系统管理员资源大全中文版，备份/克隆软件、云计算/云存储、协作软件、配置管理、日志管理、监控、项目管理、DNS、网络配置、NOSQL、打包、队列、RDBMS、安全、SSH、统计、故障排除、项目管理、版本控制、虚拟化、Web服务器等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-sysadmin-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-sysadmin-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=7" target="_blank" rel="external">http://hao.jobbole.com/?catid=7</a></p>
<p>DotNet 资源大全</p>
<p>DotNet 资源大全中文版，内容包括：API、编译器、压缩、应用框架、应用模板、认证和授权、CLI、CLR、代码分析、编译器、加密、数据库、反编译、IDE、部署、分布式、GIS、游戏开发、GUI、图像处理、MVVM、ORM、Web框架、Web服务器、日志、风格指南等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-dotnet-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-dotnet-cn</a></p>
<p>PHP 资源大全</p>
<p>PHP资源大全中文版，内容包括：依赖管理、库、框架、静态网站生成器、HTTP、依赖注入、文件、图像处理、测试、持续集成、模板、安全、构建工具、调试工具、代码分析、搜索、日志、第三方库、配置工具、Web工具等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-php-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-php-cn</a></p>
<p>C++ 资源大全</p>
<p>C++ 资源大全中文版，标准库、Web应用框架、人工智能、音频、生态学、压缩、并发、容器、密码学、调试、游戏引擎、GUI、数据库、图片处理、机器学习、日志、代码分析、JSON、视频、物理学、机器人学、科学计算、网络编程、编译器、在线编译器、IDE 等。</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-cpp-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-cpp-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=374" target="_blank" rel="external">http://hao.jobbole.com/?catid=374</a></p>
<p>设计师资源大全</p>
<p>设计师资源大全，包含：ICON图标、Logo设计、PhotoShop插件、交互设计工具、流程图、线框图/原型图、设计博客等</p>
<p>GitHub 主页：<a href="https://github.com/jobbole/awesome-design-cn" target="_blank" rel="external">https://github.com/jobbole/awesome-design-cn</a><br>单个资源的详细介绍，发布在这里：<a href="http://hao.jobbole.com/?catid=803" target="_blank" rel="external">http://hao.jobbole.com/?catid=803</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/史上最全的开发和设计资源大全/" data-id="ciwohxhoa0020wrcy48iblii9" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-SSH-登录很慢" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/Linux-SSH-登录很慢/" class="article-date">
  <time datetime="2016-12-13T02:44:43.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/Linux-SSH-登录很慢/">Linux SSH 登录很慢</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>用ssh连其他linux机器，会等待10-30秒才有提示输入密码。严重影响工作效率。登录很慢，登录上去后速度正常，这种情况主要有两种可能的原因：</p>
<ol>
<li>DNS反向解析的问题</li>
</ol>
<p>OpenSSH在用户登录的时候会验证IP，它根据用户的IP使用反向DNS找到主机名，再使用DNS找到IP地址，最后匹配一下登录的IP是否合法。如果客户机的IP没有域名，或者DNS服务器很慢或不通，那么登录就会很花时间。</p>
<p>解决办法：</p>
<p>在目标服务器上修改sshd服务器端配置,并重启sshd</p>
<p>vi /etc/ssh/sshd_config，设置UseDNS为no即可</p>
<p>当然也可以通过提供DNS正确反向解析的方法解决，有如下两种思路</p>
<p>（1） 在server上/etc/hosts文件中把常用的ip和hostname加入，然后在/etc/nsswitch.conf看看程序是否先查询hosts文件（一般缺省是这样）。</p>
<p>修改server上的hosts文件，将目标机器的IP和域名加上去。或者让本机的DNS 服务器能解析目标地址。</p>
<p>vi /etc/hosts</p>
<p>192.168.12.16  ourdev</p>
<p>其格式是“目标机器IP 目标机器名称”这种方法促效。没有延迟就连上了。不过如果给每台都加一个域名解析，挺辛苦的。但在windows下用putty或secure-crt时可以采用这种方法。</p>
<p>（2）起一台dns服务器（可以是本机），加入反向解析，把这个dns服务器加入到/etc/resolv.conf中。</p>
<ol>
<li>关闭ssh的gssapi认证</li>
</ol>
<p>用ssh -v user@server 可以看到登录时有如下信息：</p>
<p>debug1: Next authentication method: gssapi-with-mic</p>
<p>debug1: Unspecified GSS failure. Minor code may provide more information</p>
<p>注：ssh -vvv user@server 可以看到更细的debug信息</p>
<p>解决办法：</p>
<p>在客户端上修改ssh客户端配置(注意不是sshd_conf）</p>
<p>vi /etc/ssh/ssh_config，设置GSSAPIAuthentication no  并重启sshd</p>
<p>可以使用</p>
<p>ssh -A -o StrictHostKeyChecking=no -o GSSAPIAuthentication=no -p 32200 username@server_ip<br>GSSAPI ( Generic Security Services Application Programming Interface) 是一套类似Kerberos 5 的通用网络安全系统接口。该接口是对各种不同的客户端服务器安全机制的封装，以消除安全接口的不同，降低编程难度。但该接口在目标机器无域名解析时会有问题</p>
<p>使用strace查看后发现，ssh在验证完key之后，进行authentication gssapi-with-mic，此时先去连接DNS服务器，在这之后会进行其他操作。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/Linux-SSH-登录很慢/" data-id="ciwohxhm9000fwrcydayp3ri2" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-umount-device-is-busy时怎么办" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/umount-device-is-busy时怎么办/" class="article-date">
  <time datetime="2016-12-13T02:43:54.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/umount-device-is-busy时怎么办/">umount device is busy时怎么办</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>umount: device is busy时怎么办？<br>    执行mount -o loop ramdisk.image mnt_ramdisk/,将当前目录下的ramdisk映像挂载到mnt_ramdisk目录下,使用完后退出此目录,执行umount mnt_ramdisk/,可总是说device is busy,可我又不知道什么程序在使用,用google搜了一下,找到了网上高人解决此问题的方法.以下转载于品可的blog:</p>
<p>================</p>
<p>linux下的磁盘分区通过挂载（mount）的方式连到一个目录下，打开此目录就可以看到磁盘分区中的内容了。与挂载相反的操作是umount，他将磁盘分区与目录的关联关系解除。</p>
<p>但有时候umount时会报错误，例如</p>
<p>Code:</p>
<h1 id="umount-usr-local"><a href="#umount-usr-local" class="headerlink" title="umount /usr/local/"></a>umount /usr/local/</h1><p>umount: /usr/local: device is busy<br>这说明还有某个程序正在是用此目录，为了保证程序的运行，默认情况下umount不能卸载。但是umount又没有说究竟哪个程序在使用，觉得这也算是设计的一个缺陷。</p>
<p>幸好有个程序叫fuser，man fuser的介绍是：</p>
<p>Code:<br>fuser - identify processes using files or sockets<br>fuser后加需要查的资源就可以知道有哪些进程正在使用了，例如：</p>
<p>Code:</p>
<p>#fuser -m /<br>/:                    8892r  8916r  8932r  8959r  8992rc  8996rc  8997rc  8999rc  9006rc<br>   9007rc  9010rc  9013r  9015rc  9025r  9029r  9033rc  9035r  9039rc  9058rc  9107rc<br>   9109rc  9126rc  9130r  9366r  9375r  9439r<br>接下来需要做的就是将相关进程停掉，再umount即可。</p>
<p>PS: 多谢pnt的提醒，原来umount 还有一个-l选项，作用是当需卸载文件系统的引用不繁忙时直接卸载：</p>
<p>Code:<br>umount -l    Lazy unmount. Detach the filesystem from the filesystem  hierar-<br>chy now, and cleanup all references to the filesystem as soon as<br>it is not busy anymore.  (Requires kernel 2.4.11 or later.)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/umount-device-is-busy时怎么办/" data-id="ciwohxhnj001bwrcywajclwz1" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-root-密码重置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/Linux-root-密码重置/" class="article-date">
  <time datetime="2016-12-13T02:26:52.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/Linux-root-密码重置/">Linux root 密码重置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在使用Linux系统的时候root密码是十分关键的安全机制。但是假设那天丢失了root密码的话问题就严重了。下面为大家介绍CentOS–root密码忘记的解决办法。</p>
<p>对于一个系统管理员来说root密码控制着相当多的安全数据。如果忘记了root密码就需要及时的找回。下文中就为大家介绍CentOS–root密码忘记的解决办法。希望这对记性的系统管理员来说有所帮助。</p>
<p>主要有两个方法，这两个方法都十分简单。</p>
<p>方法一：</p>
<p>1.在开机启动的时候能看到引导目录，用上下方向键选择你忘记密码的那个系统，然后按“e”。</p>
<p>2.接下来你可以看到如下图所示的画面，然后你再用上下键选择最新的内核，然后在按“e”。</p>
<p>3.执行完上步操作后可以看到下面的画面，在rhgb quiet最后加“空格”，然后键入“single”，或者直接输入数字的“1”并回车确定。</p>
<p>4.按“b”键，重新引导系统。</p>
<p>5.进入到系统后就可以用熟悉的passwd root来更改root的密码了。改完后reboot即可。</p>
<p>方法二</p>
<p>今天要测试一个程序，就启动自己虚拟机上的centos5.2，结果root密码忘记无法使用，真是急死人了。</p>
<p>还好从网上找到解决办法，我摘录整理如下：</p>
<p>GRUB:</p>
<p>在引导装载程序菜单上，键入[e]键 来进入编辑模式。<br>你会看到一个引导项目列表。找到其中类似以下输出的句行：</p>
<p>kernel /vmlinuz-2.6.18-0.4 ro root=/dev/hda2<br>按箭头键直到这一行被突出显示，然后再按[e]键 。<br>你现在可在文本结尾处按下 空格 再输入：single然后回车， 来告诉GRUB 引导单用户Linux 模式。<br>你会被带回到编辑模式屏幕，从这里，按[b]键， GRUB 就会引导单用户Linux 模式。</p>
<p>结束载入后，你会看到一个与以下相似的shell 提示：</p>
<p>sh-2.05#<br>现在，你便可以改变根命令，键入：</p>
<p>bash# passwd root<br>你会被要求重新键入口令来校验。结束后，口令就会被改变，你便可以在提示下键入reboot 来重新引<br>导；然后，象平常一样登录为根用户。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/Linux-root-密码重置/" data-id="ciwohxhma000gwrcy51m4hzks" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-封装CentOS系统几个步骤" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/封装CentOS系统几个步骤/" class="article-date">
  <time datetime="2016-12-13T02:25:44.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/封装CentOS系统几个步骤/">封装CentOS系统几个步骤</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>准备工作<br>1.干净的操作系统镜像,推荐官方下载。<br>2.一台linux主机，需要安装mkisofs</p>
<ol>
<li>kickstarts文件<br>封装光盘<br>1.复制文件<br>cd iso文件所在目录<br>mount -o loop ./CentOS-6.5-x86_64-bin-DVD1.iso /mnt/   ##挂载镜像文件<br>mkdir /var/iso  ##创建新系统的文件目录<br>cd /mnt    ##进入光盘挂载目录<br>cp -a . /var/iso/<br>cd /var/iso<br>2.修改文件<br>在/var/iso/目录里面操作。</li>
</ol>
<p>vi isolinux/isolinux.cfg<br>在label linux 这一行上面添加。</p>
<p>label custom<br>menu label ^custom CentOS 6.5<br>menu default<br>kernel vmlinuz<br>append ks=cdrom:/isolinux/ks.cfg initrd=initrd.img biosdevname=0<br>复制准备好的 ks.cfg 到 isolinux/ 目录</p>
<p>cp /root/ks.cfg isolinux/ks.cfg<br>3.封装光盘<br>mkisofs -o ../CentOS-6.5-x86_64_release1.0.iso -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -R -J -v -T ./</p>
<p>mkisofs -o ../CentOS-6.5-x86_64_release1.0.iso -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -R -J -v -T ./</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/封装CentOS系统几个步骤/" data-id="ciwohxhoj002awrcydjzvo5ws" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-删除指定大小的文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/删除指定大小的文件/" class="article-date">
  <time datetime="2016-12-13T02:24:14.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/删除指定大小的文件/">删除指定大小的文件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>用dd命令创建一个实验文件：</p>
<p>dd if=/dev/zero of=test.txt bs=10M count=1</p>
<p>创建大小为10M的test.txt文件。</p>
<p>[root@lamp test]# find . -size 10M -exec ls -lh {} \;</p>
<p>-rw-r–r– 1 root root 10M 11月  3 14:04 ./test.txt<br>[root@lamp test]# find . -size 10M -exec rm {} \;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/删除指定大小的文件/" data-id="ciwohxho9001zwrcyjb71r3ic" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Centos-7-x-预配" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/Centos-7-x-预配/" class="article-date">
  <time datetime="2016-12-13T02:12:22.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/Centos-7-x-预配/">Centos 7.x 预配</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>VMware Tools<br>tar -zxvf VMwareTools-*.tar.gz<br>cd vmware-tools-distrib/<br>ls<br>./vmware-install.pl</p>
<p>XenServer Tools<br>mount /dev/cdrom /mnt/<br>mount: /dev/sr0 写保护，将以只读方式挂载<br>cd /mnt/Linux/</p>
<p>[root@CentOS7 ~]# sed -i ‘s#keepcache=0#keepcache=1#g’ /etc/yum.conf<br>[root@CentOS7 ~]# grep keepcache /etc/yum.conf<br>keepcache=1<br>[root@CentOS7 ~]# ls /var/cache/yum/x86_64/7/base/packages/</p>
<p>vim /etc/hostname<br>cat /etc/hostname<br>CentOS7</p>
<p>vim /etc/hosts<br>cat /etc/hosts<br>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4<br>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6<br>[root@CentOS7 ~]#</p>
<p>vim /etc/selinux/config<br>[root@CentOS7 ~]# cat /etc/selinux/config</p>
<h1 id="This-file-controls-the-state-of-SELinux-on-the-system"><a href="#This-file-controls-the-state-of-SELinux-on-the-system" class="headerlink" title="This file controls the state of SELinux on the system."></a>This file controls the state of SELinux on the system.</h1><h1 id="SELINUX-can-take-one-of-these-three-values"><a href="#SELINUX-can-take-one-of-these-three-values" class="headerlink" title="SELINUX= can take one of these three values:"></a>SELINUX= can take one of these three values:</h1><h1 id="enforcing-SELinux-security-policy-is-enforced"><a href="#enforcing-SELinux-security-policy-is-enforced" class="headerlink" title="enforcing - SELinux security policy is enforced."></a>enforcing - SELinux security policy is enforced.</h1><h1 id="permissive-SELinux-prints-warnings-instead-of-enforcing"><a href="#permissive-SELinux-prints-warnings-instead-of-enforcing" class="headerlink" title="permissive - SELinux prints warnings instead of enforcing."></a>permissive - SELinux prints warnings instead of enforcing.</h1><h1 id="disabled-No-SELinux-policy-is-loaded"><a href="#disabled-No-SELinux-policy-is-loaded" class="headerlink" title="disabled - No SELinux policy is loaded."></a>disabled - No SELinux policy is loaded.</h1><h1 id="SELINUX-enforcing"><a href="#SELINUX-enforcing" class="headerlink" title="SELINUX=enforcing"></a>SELINUX=enforcing</h1><p>SELINUX=disabled</p>
<h1 id="SELINUXTYPE-can-take-one-of-three-two-values"><a href="#SELINUXTYPE-can-take-one-of-three-two-values" class="headerlink" title="SELINUXTYPE= can take one of three two values:"></a>SELINUXTYPE= can take one of three two values:</h1><h1 id="targeted-Targeted-processes-are-protected"><a href="#targeted-Targeted-processes-are-protected" class="headerlink" title="targeted - Targeted processes are protected,"></a>targeted - Targeted processes are protected,</h1><h1 id="minimum-Modification-of-targeted-policy-Only-selected-processes-are-protected"><a href="#minimum-Modification-of-targeted-policy-Only-selected-processes-are-protected" class="headerlink" title="minimum - Modification of targeted policy. Only selected processes are protected."></a>minimum - Modification of targeted policy. Only selected processes are protected.</h1><h1 id="mls-Multi-Level-Security-protection"><a href="#mls-Multi-Level-Security-protection" class="headerlink" title="mls - Multi Level Security protection."></a>mls - Multi Level Security protection.</h1><p>SELINUXTYPE=targeted</p>
<p>systemctl stop firewalld.service<br>systemctl disable firewalld.service<br>Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.<br>Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service.<br>[root@CentOS7 ~]#<br>reboot</p>
<p>getenforce<br>Disabled</p>
<p>查看firewall</p>
<p>快照</p>
<p>rpm -ivh <a href="http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-8.noarch.rpm" target="_blank" rel="external">http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-8.noarch.rpm</a><br>yum clean all<br>yum makecache<br>yum repolist</p>
<p>[202.108.6.95] [202.112.29.82] [110.75.190.198] [115.28.122.198] [182.92.12.11]<br>[120.25.108.11] [110.75.186.249] [110.75.186.248] [110.75.186.247]<br>yum install ntp -y<br>systemctl enable ntpd<br>systemctl status ntpd<br>ntpdate -u 202.108.6.95<br>n1<br>vim /etc/ntp.conf<br>server 202.108.6.95 prefer<br>service ntpd start<br>ntpstat</p>
<p>yum groupinstall “Development tools”</p>
<p>克隆 修改为命令行 </p>
<p>CentOS7修改默认运行级别<br>查看状态<br>systemctl get-default<br>修改为命令行<br>systemctl set-default multi-user.target<br>修改为图形<br>systemctl set-default graphical.target</p>
<p>网络设置<br>vim /etc/sysconfig/network-scripts/ifcfg-eth0<br>DEVICE=”eth0”<br>BOOTPROTO=none<br>ONBOOT=”yes”<br>IPADDR=192.168.57.3<br>PREFIX=24<br>GATEWAY=192.168.57.2<br>DNS1=61.177.7.1<br>DOMAIN=223.5.5.5</p>
<p>[root@Centos7-Zabbix ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0<br>TYPE=”Ethernet”<br>BOOTPROTO=”none”<br>DEFROUTE=”yes”<br>IPV4_FAILURE_FATAL=”no”<br>IPV6INIT=”yes”<br>IPV6_AUTOCONF=”yes”<br>IPV6_DEFROUTE=”yes”<br>IPV6_FAILURE_FATAL=”no”<br>NAME=”eth0”<br>UUID=”e228b577-792e-4188-be8c-af777ce949e0”<br>DEVICE=”eth0”<br>ONBOOT=”yes”<br>IPADDR=”10.6.4.103”<br>PREFIX=”24”<br>GATEWAY=”10.6.4.1”<br>DNS1=”61.177.7.1”<br>DOMAIN=”223.5.5.5”<br>IPV6_PEERDNS=”yes”<br>IPV6_PEERROUTES=”yes”<br>IPV6_PRIVACY=”no”<br>[root@Centos7-Zabbix ~]#</p>
<p>yum install lrzsz -y<br>sz download<br>rz upload</p>
<p>保留RPM包<br>sed -i ‘s#keepcache=0#keepcache=1#g’ /etc/yum.conf<br>grep keepcache /etc/yum.conf<br>keepcache=1<br>ls /var/cache/yum/x86_64/7/base/packages/</p>
<p>快照</p>
<p>rpm -qa | grep java<br>rpm -e –nodeps javapackages-tools-3.4.1-5.el7.noarch<br>rpm -e –nodeps java-1.7.0-openjdk-headless-1.7.0.51-2.4.5.5.el7.x86_64<br>rpm -e –nodeps java-1.7.0-openjdk-1.7.0.51-2.4.5.5.el7.x86_64<br>rpm -e –nodeps python-javapackages-3.4.1-5.el7.noarch<br>rpm -e –nodeps tzdata-java-2014b-1.el7.noarch<br>rpm -qa | grep java</p>
<p>tar -xvf jdk-8u66-linux-x64.tar.gz<br>vim /etc/profile<br>export JAVA_HOME=/usr/lib/java/jdk1.8.0_66/<br>export JRE_HOME=${JAVA_HOME}/jre<br>export PATH=$PATH:${JAVA_HOME}/bin<br>source /etc/profile<br>java -version</p>
<p>wget <a href="https://www.python.org/ftp/python/3.5.0/Python-3.5.0.tar.xz" target="_blank" rel="external">https://www.python.org/ftp/python/3.5.0/Python-3.5.0.tar.xz</a><br>wget <a href="https://www.python.org/ftp/python/3.4.3/Python-3.4.3.tar.xz" target="_blank" rel="external">https://www.python.org/ftp/python/3.4.3/Python-3.4.3.tar.xz</a></p>
<p>ll -h<br>tar -Jxvf Python-3.4.3.tar.xz<br>mkdir /usr/local/python3<br>cd Python-3.4.3/<br>yum -y install gcc<br>./configure –prefix=/usr/local/python3<br>make<br>make install<br>cd /usr/bin/<br>mv python python2.7<br>ln -s /usr/local/python3/bin/python3 /usr/bin/python<br>python<br>Python 3.4.3 (default, Jun 17 2016, 13:34:53)<br>[GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux<br>Type “help”, “copyright”, “credits” or “license” for more information.</p>
<blockquote>
<blockquote>
<blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>vim /usr/bin/yum</p>
<p>#!/usr/bin/python2.7<br>vim /usr/libexec/urlgrabber-ext-down</p>
<p>#! /usr/bin/python2.7</p>
<p>yum -y install ntp</p>
<p>python -V<br>Python 3.4.3<br>python</p>
<p>vim /etc/profile<br>source /etc/profile</p>
<p>uname -a<br>su jinyan<br>mv eclipse-jee-mars-1-linux-gtk-x86_64.tar.gz /home/jinyan/<br>cd /home/jinyan/<br>chown jinyan:jinyan eclipse-jee-mars-1-linux-gtk-x86_64.tar.gz</p>
<p>rpm -ivh nginx-release-centos-7-0.el7.ngx.noarch.rpm<br>wget <a href="http://nginx.org/keys/nginx_signing.key" target="_blank" rel="external">http://nginx.org/keys/nginx_signing.key</a><br>rpmkeys –import nginx_signing.key<br>vim /etc/yum.repos.d/nginx.repo<br>rpmkeys -K nginx-release-centos-7-0.el7.ngx.noarch.rpm<br>yum -y install nginx<br>systemctl start nginx<br>systemctl enable nginx<br>systemctl status httpd.service<br>systemctl status nginx.service<br>vim /etc/nginx/nginx.conf </p>
<p>nano /etc/nginx/nginx.conf<br>vim /etc/nginx/nginx.conf<br>nginx -s reload<br>mkdir -p /data/www<br>getenforce<br>echo “This a test page.” &gt;/data/www/index.html</p>
<p>chmod -R 777 /data/www/<br>tail -f /var/log/nginx/error.log<br>cd /data/www/<br>touch favicon.ico<br>ls<br>tail -f /var/log/nginx/error.log<br>nginx -s reload</p>
<p>yum install perl-DBI -y<br>rpm -ivh mysql-community-server-5.6.27-2.el7.x86_64.rpm<br>rpm -ivh mysql-community-server-5.6.27-2.el7.x86_64.rpm<br>rpm -ivh mysql-community-server-5.6.27-2.el7.x86_64.rpm<br>yum install mysql-community-server -y<br>yum -y install mysql-community-client</p>
<p>systemctl start mysqld<br>systemctl enable mysqld<br>systemctl status mysqld<br>netstat -tunlp | grep :3306<br>mysqladmin -uroot password yanjin<br>mysqladmin -uroot password<br>mysqladmin -u root password<br>mysql -uroot -pyanjin</p>
<h1 id="假设你的-USB-装置为-dev-sdc-，而-ISO-档名为-centos7-iso-的话："><a href="#假设你的-USB-装置为-dev-sdc-，而-ISO-档名为-centos7-iso-的话：" class="headerlink" title="假设你的 USB 装置为 /dev/sdc ，而 ISO 档名为 centos7.iso 的话："></a>假设你的 USB 装置为 /dev/sdc ，而 ISO 档名为 centos7.iso 的话：</h1><p>[root@study ~]# dd if=centos7.iso of=/dev/sdc</p>
<p>时间设置<br>date后面的数字代表月日时分年<br>date 070415522015<br>时间同步<br>/usr/sbin/ntpdate -u 202.120.2.101<br>ntpdate -u 202.120.2.101</p>
<p>FTP安装配置<br>yum -y install vsftpd<br>vim /etc/vsftpd/vsftpd.conf<br>chkconfig  vsftpd on<br>chmod -R 777 /mycephfs/ftp<br>useradd -g ftp -d /mycephfs/ftp -M ftpuser<br>passwd ftpuser<br>sztzuchi<br>systemctl restart vsftpd</p>
<p>安装配置Samba<br>yum -y install samba samba-client samba-common<br>vim /etc/samba/smb.conf<br>[cephbe]<br>        comment = The cephbe<br>        path = /mycephfs/be<br>        browseable = yes<br>        writable = yes</p>
<p>chmod -R 777 /mycephfs/be<br>useradd smbcephbe<br>smbpasswd -a smbcephbe<br>sztzuchi<br>systemctl restart smb<br>systemctl status smb<br>chkconfig smb on</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/Centos-7-x-预配/" data-id="ciwohxhm5000bwrcy5hgh8wsz" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Centos-6-x-预配" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/Centos-6-x-预配/" class="article-date">
  <time datetime="2016-12-13T02:10:25.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/Centos-6-x-预配/">Centos 6.x 预配</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>rpm -ivh <a href="http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm" target="_blank" rel="external">http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</a><br>yum -y install lrzsz<br>时间设置<br>date后面的数字代表月日时分年<br>date 070415522015<br>时间同步<br>/usr/sbin/ntpdate -u 202.108.6.95<br>ntpdate -u 202.108.6.95<br>cn.ntp.org.cn</p>
<p>[202.108.6.95] [202.112.29.82] [110.75.190.198] [115.28.122.198] [182.92.12.11]<br>[120.25.108.11] [110.75.186.249] [110.75.186.248] [110.75.186.247]</p>
<p>yum install ntp -y<br>chkconfig ntpd on<br>chkconfig –list ntpd<br>ntpdate -u 202.120.2.101<br>n10<br>vim /etc/ntp.conf<br>server 202.120.2.101 prefer<br>service ntpd start<br>ntpstat</p>
<p>n2-4<br>vim /etc/ntp.conf<br>server n1<br>ntpdate -u n1<br>service ntpd start</p>
<p>网络设置<br>vim /etc/sysconfig/network-scripts/ifcfg-eth0<br>DEVICE=”eth0”<br>BOOTPROTO=none<br>NM_CONTROLLED=”yes”<br>ONBOOT=”yes”<br>TYPE=”Ethernet”<br>UUID=”735675de-800d-47c3-bcbb-f61abbd19cf2”<br>IPADDR=10.6.0.211<br>PREFIX=24<br>GATEWAY=10.6.0.128<br>DNS1=61.177.7.1<br>DOMAIN=223.5.5.5<br>DEFROUTE=yes<br>IPV4_FAILURE_FATAL=yes<br>IPV6INIT=no<br>NAME=”System eth0”<br>HWADDR=DE:A9:01:8A:18:34<br>LAST_CONNECT=1438477375</p>
<p>修改主机名<br>vim /etc/sysconfig/network<br>NETWORKING=yes<br>HOSTNAME=n4</p>
<p>vim /etc/hosts<br>10.6.0.211 n1<br>10.6.0.212 n2<br>10.6.0.213 n3<br>10.6.0.214 n4<br>10.6.0.215 n5<br>10.6.0.216 n6</p>
<p>关闭防火墙：<br>service iptables stop （临时关闭）<br>chkconfig iptables off （重启后生效）</p>
<p>关闭SELINUX<br>vim /etc/selinux/config<br>SELINUX=disabled</p>
<p>配置SSH<br>yum -y install openssh-server<br>vim /etc/ssh/sshd_config<br>UseDNS no<br>PermitRootLogin yes<br>service sshd restart<br>yum install openssh-clients -y<br>/etc/init.d/sshd restart</p>
<p>更换软件源<br>wget -O /etc/yum.repos.d/CentOS-Base.repo <a href="http://mirrors.aliyun.com/repo/Centos-6.repo" target="_blank" rel="external">http://mirrors.aliyun.com/repo/Centos-6.repo</a><br>yum clean all<br>yum makecache</p>
<p>CentOS 6.x 使用安装光盘作为yum源<br>挂载光驱</p>
<p>[root@yanjin ~]#  mount /dev/cdrom /media/</p>
<p>修改yum配置文件</p>
<p>[root@yanjin ~]#  vim /etc/yum.repos.d/CentOS6-Base-163.repo</p>
<p>[c6-media]</p>
<p>name=CentOS-$releasever - Media</p>
<p>baseurl=file:///media/</p>
<p>gpgcheck=1</p>
<p>enabled=0</p>
<p>gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</p>
<p>测试</p>
<p>[root@yanjin ~]# yum –disablerepo=* –enablerepo=c6-media search gcc</p>
<p>SSH无密码登录配置<br>ssh-keygen -t rsa<br>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<br>chmod 600 ~/.ssh/authorized_keys<br>mkdir -p /root/.ssh/<br>scp ~/.ssh/authorized_keys root@n2:~/.ssh/<br>scp ~/.ssh/authorized_keys root@n3:~/.ssh/<br>scp ~/.ssh/authorized_keys root@n4:~/.ssh/</p>
<p>安装桌面环境<br>yum groupinstall ‘X Window System’  -y</p>
<p>安装配置VNC<br>设置密码<br>yum -y install tigervnc-server<br>vncpasswd<br>更改配置<br>vim /etc/sysconfig/vncservers<br>VNCSERVERS=”0:root”<br>VNCSERVERARGS[0]=”-geometry 1024x768”</p>
<p>service vncserver start<br>开机启动<br>chkconfig  vncserver on</p>
<p>卸载内置Java<br>rpm -qa | grep java<br>rpm -e –nodeps java-1.7.0-openjdk-1.7.0.45-2.4.3.3.el6.x86_64<br>rpm -e –nodeps java-1.6.0-openjdk-1.6.0.0-1.66.1.13.0.el6.x86_64<br>rpm -e –nodeps tzdata-java-2013g-1.el6.noarch</p>
<p>MySQL安装配置<br>yum install mysql-server -y<br>chkconfig mysqld on<br>service mysqld start<br>mysqladmin -u root password yanjin<br>mysql -uroot -pyanjin</p>
<p>FTP安装配置<br>yum -y install vsftpd<br>[root@localhost ~]# vim /etc/vsftpd/vsftpd.conf<br>[root@localhost ~]# chkconfig –level 345 vsftpd on<br>[root@localhost ~]#<br>[root@localhost ~]#<br>[root@localhost ~]# useradd -g ftp -d /home -M ftpuser<br>[root@localhost ~]# chmod 777 /home/<br>[root@localhost ~]# passwd ftpuser<br>Changing password for user ftpuser.<br>New password:<br>BAD PASSWORD: it is based on a dictionary word<br>BAD PASSWORD: is too simple<br>Retype new password:<br>passwd: all authentication tokens updated successfully.<br>[root@localhost ~]# service vsftpd restart<br>Shutting down vsftpd: [  OK  ]<br>Starting vsftpd for vsftpd: [  OK  ]<br>service vsftpd restart<br>开机启动chkconfig –level 345 vsftpd on</p>
<p>安装配置Samba<br>yum install samba samba-client samba-swat -y<br>vim /etc/samba/smb.conf<br>[hdfs]<br>        comment = The hdfs<br>        path = /mnt/hdfs/<br>        browseable = yes<br>        writable = yes<br>useradd smbhdfs<br>smbpasswd -a smbhdfs<br>service smbd restart<br>/etc/init.d/smb start<br>/etc/init.d/nmb start<br>service smb status<br>chkconfig –level 35 smb on</p>
<p>xxx is not in the sudoers file. This incident will be reported<br>visudo</p>
<h2 id="Allow-root-to-run-any-commands-anywhere"><a href="#Allow-root-to-run-any-commands-anywhere" class="headerlink" title="Allow root to run any commands anywhere"></a>Allow root to run any commands anywhere</h2><p>root    ALL=(ALL)       ALL<br>hdfs    ALL=(ALL)       ALL</p>
<p>NFS<br>server<br>[root@n0 ~]# yum install nfs-utils -y<br>[root@n0 ~]# vim /etc/exports<br>/home   10.6.0.0/24(rw,no_root_squash)  <em>(ro)<br>[root@n0 ~]# /etc/init.d/rpcbind start<br>[root@n0 ~]# /etc/init.d/nfs start<br>启动 NFS 服务： [确定]<br>关掉 NFS 配额：[确定]<br>启动 NFS mountd：[确定]<br>启动 NFS 守护进程：[确定]<br>正在启动 RPC idmapd：[确定]<br>[root@n0 ~]# /etc/init.d/nfslock start<br>[root@n0 ~]# chkconfig rpcbind on<br>[root@n0 ~]# chkconfig nfs on<br>[root@n0 ~]# chkconfig nfslock on<br>[root@n0 ~]# netstat -tunlp | grep :111<br>tcp        0      0 0.0.0.0:111                 0.0.0.0:</em>                   LISTEN      1012/rpcbind<br>tcp        0      0 :::111                      :::<em>                        LISTEN      1012/rpcbind<br>udp        0      0 0.0.0.0:111                 0.0.0.0:</em>                               1012/rpcbind<br>udp        0      0 :::111                      :::<em>                                    1012/rpcbind<br>[root@n0 ~]#<br>[root@n0 ~]# tail /var/log/messages<br>[root@n0 ~]# rpcinfo -p localhost<br>   program vers proto   port  service<br>    100000    4   tcp    111  portmapper<br>    100000    3   tcp    111  portmapper<br>    100000    2   tcp    111  portmapper<br>    100000    4   udp    111  portmapper<br>    100000    3   udp    111  portmapper<br>    100000    2   udp    111  portmapper<br>    100024    1   udp  47728  status<br>    100024    1   tcp  37084  status<br>    100011    1   udp    875  rquotad<br>    100011    2   udp    875  rquotad<br>    100011    1   tcp    875  rquotad<br>    100011    2   tcp    875  rquotad<br>    100005    1   udp  59870  mountd<br>    100005    1   tcp  42830  mountd<br>    100005    2   udp  57353  mountd<br>    100005    2   tcp  53228  mountd<br>    100005    3   udp  53687  mountd<br>    100005    3   tcp  45899  mountd<br>    100003    2   tcp   2049  nfs<br>    100003    3   tcp   2049  nfs<br>    100003    4   tcp   2049  nfs<br>    100227    2   tcp   2049  nfs_acl<br>    100227    3   tcp   2049  nfs_acl<br>    100003    2   udp   2049  nfs<br>    100003    3   udp   2049  nfs<br>    100003    4   udp   2049  nfs<br>    100227    2   udp   2049  nfs_acl<br>    100227    3   udp   2049  nfs_acl<br>    100021    1   udp  36721  nlockmgr<br>    100021    3   udp  36721  nlockmgr<br>    100021    4   udp  36721  nlockmgr<br>    100021    1   tcp  47260  nlockmgr<br>    100021    3   tcp  47260  nlockmgr<br>    100021    4   tcp  47260  nlockmgr<br>[root@n0 ~]# rpcinfo -t localhost nfs<br>program 100003 version 2 ready and waiting<br>program 100003 version 3 ready and waiting<br>program 100003 version 4 ready and waiting<br>[root@n0 ~]# showmount -e localhost<br>Export list for localhost:<br>/home (everyone)<br>[root@n0 ~]# tail /var/lib/nfs/etab<br>/home   10.6.0.0/24(rw,sync,wdelay,hide,nocrossmnt,secure,no_root_squash,no_all_squash,no_subtree_check,secure_locks,acl,anonuid=65534,anongid=65534,sec=sys,rw,no_root_squash,no_all_squash)<br>/home   </em>(ro,sync,wdelay,hide,nocrossmnt,secure,root_squash,no_all_squash,no_subtree_check,secure_locks,acl,anonuid=65534,anongid=65534,sec=sys,ro,root_squash,no_all_squash)<br>[root@n0 ~]# exportfs -arv<br>exporting 10.6.0.0/24:/home<br>exporting *:/home<br>[root@n0 ~]# cd /home/<br>[root@n0 home]# ls<br>hadoop  lost+found  test<br>[root@n0 home]# ll<br>总用量 24<br>drwx——  31 hadoop hadoop  4096 10月 30 08:50 hadoop<br>drwx——.  2 root   root   16384 10月 17 10:50 lost+found<br>drwxr-xr-x   2 root   root    4096 11月  7 13:35 test</p>
<p>client<br>[root@n1 ~]# /etc/init.d/rpcbind start<br>[root@n1 ~]# /etc/init.d/nfslock start<br>[root@n1 ~]# chkconfig rpcbind on<br>[root@n1 ~]# chkconfig nfslock on<br>[root@n1 ~]# showmount -e 10.6.0.24<br>Export list for 10.6.0.24:<br>/home (everyone)<br>[root@n1 ~]# mkdir -p /home/nfs<br>[root@n1 ~]# mount -t nfs 10.6.0.24:/home/ /home/nfs/<br>[root@n1 ~]# df -h<br>Filesystem        Size  Used Avail Use% Mounted on<br>/dev/sda3         1.8T  1.1T  687G  61% /<br>tmpfs             7.8G  148K  7.8G   1% /dev/shm<br>/dev/sda1         194M   34M  151M  19% /boot<br>fuse_dfs           22T  3.9T   18T  19% /mnt/hdfs<br>cm_processes      7.8G  7.5M  7.8G   1% /opt/cm-5.1.3/run/cloudera-scm-agent/process<br>10.6.0.24:/home/  242G  1.5G  228G   1% /home/nfs<br>[root@n1 ~]# cd /home/nfs/<br>[root@n1 nfs]# touch test<br>[root@n1 nfs]# ll<br>总用量 24<br>drwx—— 31 nobody hadoop  4096 10月 30 08:50 hadoop<br>drwx——  2 root   root   16384 10月 17 10:50 lost+found<br>drwxr-xr-x  2 root   root    4096 11月  7 13:35 test</p>
<p>开机启动<br>vim /etc/rc.d/rc.local<br>mount -t nfs -o nosuid,noexec,nodev,rw,bg,soft,rsize=32768,wsize=32768 10.6.0.24:/home/ /home/nfs/</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/Centos-6-x-预配/" data-id="ciwohxhm4000awrcyshtlkvt4" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/14/CentOS-6-x-GoAccess/">CentOS 6.x GoAccess</a>
          </li>
        
          <li>
            <a href="/2016/12/14/CentOS-6-x-Logrotate/">CentOS 6.x Logrotate</a>
          </li>
        
          <li>
            <a href="/2016/12/14/CentOS-6-x-Docker-Swarm-Etcd-Cluster/">CentOS 6.x Docker + Swarm + Etcd Cluster</a>
          </li>
        
          <li>
            <a href="/2016/12/14/Ubuntu-14-04-Docker/">Ubuntu 14.04 Docker</a>
          </li>
        
          <li>
            <a href="/2016/12/14/CentOS-6-x-CAT/">CentOS 6.x CAT</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 JinYan<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>